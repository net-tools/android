'use strict';nettools.ui||alert("nettools/android:ui.js missing !");window.nettools=window.nettools||{};nettools.android=nettools.android||{};
nettools.android.ui=function(){function g(a,c){c.before&&c.before.parentNode.insertBefore(a,c.before);c.after&&(c.after.nextSibling?c.after.parentNode.insertBefore(a,c.after.nextSibling):c.after.parentNode.appendChild(a))}function l(a,c){for(var b in a.fields)a.fields[b].newLineAfterLabel=!0,a.fields[b].newLineBefore=!0;var f=a.cancel;a.cancel=function(d){"function"===typeof f&&f(d);d.parentNode.removeChild(d)};a.submit&&a.submit instanceof nettools.jscore.SubmitHandlers.Post||(a.submit=nettools.jscore.SubmitHandlers.Callback.toSubmitHandler(a.submit).customEvent(function(d,
e){d.parentNode.removeChild(d)}));a.notifier=a.notifier||function(d){nettools.android.ui.notify(d.message,"ko")}}function n(a,c,b){function f(h){var k=document.createElement("input");k.type="button";k.value="X";k.onclick=function(){this.previousSibling.value=""};h.nextSibling?h.parentNode.insertBefore(k,h.nextSibling):h.parentNode.appendChild(k)}c=a.getElementsByTagName("input");b=[];for(var d=c.length,e=0;e<d;e++)-1!=p.indexOf(c[e].type)&&b.push(c[e]);for(e=0;e<b.length;e++)f(b[e]);c=a.getElementsByTagName("textarea");
b=[];d=c.length;for(e=0;e<d;e++)b.push(c[e]);for(e=0;e<b.length;e++)f(b[e]);a.classList.add("uiForm")}function q(){if(m)return m;var a=document.createElement("div");a.className="androidNotificationWindow";m=a;var c=document.createElement("span"),b=document.createElement("a");b.innerHTML="X";b.onclick=function(){this.parentNode.parentNode.removeChild(this.parentNode);return!1};a.appendChild(c);a.appendChild(b);return a}var m=null,p="text tel email number date password color time datetime-local month week".split(" ");
return{prompt:function(a,c,b,f,d){nettools.android.ui.editInPlace({before:a,type:d,label:c,value:b,submit:new nettools.jscore.SubmitHandlers.Callback({target:function(e,h){"function"===typeof f&&f(h[0].value)}})})},editInPlace:function(a){var c={before:a.before,after:a.after},b=nettools.android.ui.editInPlaceForm({fields:{editValue:{type:a.type||"text",value:a.value?a.value:"",label:a.label,required:a.required?["editValue"]:[],regexp:a.regexp,nolabel:a.label?!1:!0}},presubmit:a.presubmit?function(d){a.presubmit(d.editValue)}:
null,onsubmit:a.onsubmit?function(d){return a.onsubmit(d.editValue.value)}:null,onsubmitpromise:a.onsubmitpromise?function(d){return a.onsubmitpromise(d.editValue.value)}:null,submit:a.submit,cancel:function(d){a.cancel&&a.cancel(d)}},c);b.editValue.parentNode.removeChild(b.editValue.nextSibling);var f=b.submit_button.parentNode;b.editValue.parentNode.appendChild(b.submit_button);b.submit_button.value="OK";b.editValue.parentNode.appendChild(b.cancel_button);b.cancel_button.value="<-";f.parentNode.removeChild(f);
g(b,c)},editInPlaceForm:function(a,c){l(a,c);var b=nettools.ui.FormBuilder.createForm(a);g(b,c);n(b,a,c);return b},notify:function(a,c){var b=q();b.querySelector("span").innerHTML=a;b.setAttribute("data-statut",c||"ok");window.scrollTo(0,0);document.body.hasChildNodes()?document.body.insertBefore(b,document.body.childNodes[0]):document.body.appendChild(b)}}}();
nettools.android.validator=nettools.android.validator||{getAndroidFormValidator:function(g){g=new nettools.jscore.validator.FormValidator(g);g.setNotifier(function(l){nettools.android.ui.notify(l.message,"ko");return l});return g}};